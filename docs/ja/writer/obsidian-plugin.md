---
outline: deep
---


# Obsidian プラグイン

**[Quail](https://quail.ink "Quail Official Website")**は、[Obsidian](https://obsidian.md/)でQuailの投稿、投稿の取り消し、記事の配信などの機能を利用するためのObsidianプラグインを提供しています。

Obsidianが提供する強力なMarkdown編集機能と組み合わせて、QuailのObsidianプラグインを使用すると、記事の管理をより効果的に行うことができます。

## APIキーの取得

QuailのObsidianプラグインを使用するには、QuailのAPIにアクセスするためにAPIキーが必要です。APIキーを取得するためには、以下の手順を実行してください：

1. Quailにログインする：https://quail.ink/login
2. 「[プロフィール - APIキー](https://quail.ink/dashboard/profile/apikeys)」ページにアクセスする。
3. 「新規作成」ボタンをクリックし、APIキーの名前を入力し、「作成」ボタンをクリックします。
4. APIキーリストに新しく作成されたAPIキーが表示されますので、「コピー」ボタンをクリックしてAPIキーをクリップボードにコピーします。

APIキーを安全な場所に保存し、他の人に漏らさないようにしてください。後でObsidianプラグインの設定に使用します。

## プラグインのインストール

Quail の Obsidian プラグインは、Obsidian コミュニティ プラグイン リストにあります。 そこから直接インストールできます。

1. Obsidian の設定ページを開き、[コミュニティ プラグイン] タブをクリックします。
2. 「コミュニティプラグイン」タブの右側にある「参照」ボタンをクリックします。 プラグインのリストが表示されます。
3. プラグインリストで「Quail」を検索し、「インストール」ボタンをクリックします。

プラグインを有効にするには、Obsidian を再度再起動する必要がある場合があります。

インストール手順の詳細については、[プラグインのホームページ](https://github.com/quail-ink/obsidian-quail)を参照してください。

## プラグインの設定

プラグインをインストールした後、プラグインを設定する必要があります。

1. まず、Obsidianの設定ページを開き、「コミュニティプラグイン」タブをクリックし、Quailプラグインを見つけて「設定」ボタンをクリックします。
2. 「Quail APIキー」に先ほど取得したAPIキーを入力します。
3. 「リストIDまたはスラッグ」にリストのスラッグを入力します。例えば、リストのURLが `https://quail.ink/smith` である場合、リストのスラッグは `smith` です。
4. 他の設定はデフォルトのままにしておきます。

Obsidianを再起動すると、プラグインが有効になります。

## 記事の作成

通常通り、Obsidianで記事を作成する

ことができます。記事の作成が完了したら、QuailのObsidianプラグインを使用して記事を投稿することができます。

投稿する前に、Quailの要件に従って記事の要約を生成する必要があります。

## 要約などのメタデータの生成

Quailは、記事の要約をAIで生成する機能を提供しています。QuailのObsidianプラグインを使用してこの機能を呼び出すことができます。使用方法は以下の通りです：

1. ショートカットキー `Ctrl + P` を押して、Obsidianのコマンドパネルを開きます（macOSユーザーの場合は `Cmd + P` を使用してください）。
2. Quailと入力し、「Quail: Generate Metadata」コマンドを選択してEnterキーを押します。
3. 少し待つと、Quailが自動で記事の要約やタグなどのメタデータを生成し、[frontmatter](https://jekyllrb.com/docs/front-matter/)の形式で記事の先頭に挿入します。

以下のような内容が記事の先頭に表示されます：

```yaml
---
slug: "記事のスラッグ"
datetime: 2021-08-01T00:00:00+08:00
summary: "記事の要約"
tags: "タグ1, タグ2"
cover: "記事のカバー画像のURL"
---
```

ここで、

- `slug` は記事のスラッグであり、Quailはこのスラッグを使用して記事のURLを生成します。このスラッグはリスト全体で一意であり、通常は記事のタイトルの英単語の組み合わせにする必要があります。このスラッグを使用したくない場合は、手動で変更することができます。
- `datetime` は記事の公開日時です。
- `summary` は記事の要約ですが、手動で変更することもできます。
- `tags` は記事のタグですが、手動で変更することもできます。
- `cover` は記事のカバー画像のURLですが、手動で変更することもできます。ただし、以下の点に注意して変更してください：
  1. カバー画像は公開されている画像であるか、
  2. カバー画像はObsidian内の画像であり、絶対パスで指定されている必要があります。次の「画像の挿入」のセクションを参照してください。

::: tip
AIによる要約の代わりに手動で要約を入力することもできます。

AIによる要約を使用しない場合、「Quail: Insert Metadata Template」コマンドを

選択すると、Obsidianが自動的にメタデータのテンプレートを挿入し、その中に手動で情報を入力できます。
:::

## 記事の保存

記事の作成や要約などのメタデータの生成が完了したら、QuailのObsidianプラグインを使用して記事を保存することができます：

1. ショートカットキー `Ctrl + P` を押して、Obsidianのコマンドパネルを開きます（macOSユーザーの場合は `Cmd + P` を使用してください）。
2. Quailと入力し、「Quail: Save」コマンドを選択してEnterキーを押します。
3. 少し待つと、Quailが自動で記事をQuailに保存します。

Quailにログインしている場合、[記事リスト](https://quail.ink/dashboard)で保存した記事を確認できます。

## 記事の公開

記事を公開すると、記事が「下書き」状態から「公開」状態に変わり、他の人が記事を閲覧できるようになります：

1. ショートカットキー `Ctrl + P` を押して、Obsidianのコマンドパネルを開きます（macOSユーザーの場合は `Cmd + P` を使用してください）。
2. Quailと入力し、「Quail: Publish」コマンドを選択してEnterキーを押します。
3. 少し待つと、Quailが記事を自動的にQuailに公開し、記事のアクセスURLが表示されます。
4. 表示されたURLをクリックして、記事を閲覧できます。

## 公開の取り消し

公開の取り消しは、記事を「公開」状態から「下書き」状態に戻すことで、他の人に記事が表示されなくなります。

具体的な操作は公開と似ていますが、2番目のステップで「Quail: Unpublish」コマンドを選択します。

## 記事の配信

記事の配信は、記事をメールで購読者に送信することを意味します。リストにTelegramボットが設定されている場合、記事を配信すると同時に、ボットは自動的に記事をTelegramチャンネルに送信します。

具体的な操作は公開と似ていますが、2番目のステップで「Quail: Deliver」コマンドを選択します。

## 画像の挿入

記事中の画像がObsidianのローカルから取得される場合、QuailのObsidianプラグインはそれらの画像を読み込み、記事の保存や公開時に自動的にQuail

にアップロードします。ただし、以下の2つの要件を満たす必要があります：

1. 記事に画像を挿入する際は、Obsidianの内部リンクの代わりにMarkdownの画像構文を使用してください。
2. 画像は絶対パスで指定されている必要があります。

以下に例を示します。

Obsidianのディレクトリ構造が次のような場合を考えます：

```
- [essay]
  - [images]
    - image-1.png
    - image-2.png
  - [articles]
    - test
```

ここで、essay、images、articlesはフォルダであり、image-1.pngとimage-2.pngは画像ファイルであり、testは記事ファイルです。

testにimage-1.pngの画像を挿入する場合、次のクラシックな構文を使用する必要があります：

```markdown
![image-1](/essay/images/image-1.png)
```

Obsidianの構文ではなく、このような形式で指定してください：

```markdown
![[image-1]]
```

ここでの `/essay/images/image-1.png` は絶対パス（最上位のフォルダからのパス）であり、相対パスではありません。相対パスを使用すると、QuailのObsidianプラグインは画像ファイルを見つけることができません。

---

以上がQuailのObsidianプラグインの使用方法です。ご質問がある場合は、[GitHubのIssue](https://github.com/quail-ink/obsidian-quail/issues)でお気軽にお知らせください。